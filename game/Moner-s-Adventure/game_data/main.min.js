var move=0,black=255,TITLE=!1,blackOut=!1,moner,stage,score=0,highscore=0,cnv,cursor_image,title_image,floor_images,moner_walk_images,cts;function setup(){imageMode(CENTER);frameRate(30);cnv=createCanvas(450,300);cnv.parent("toppage_canvas");noCursor();TITLE=!0;stage=new ObjectStage}
function title(){image(title_image,225,100);10<frameCount%50&&image(cts,225,200);highscore<score&&(highscore=score);textSize(16);fill(230,230,230);text("HighScore: ",10,20);for(var a=10;0<=a;a--)if(highscore>=pow(10,a)){text(highscore,100+1*a,20);break}mouseIsPressed&&(score=move=0,moner=new ObjectMoner(moner_walk_images),stage=new ObjectStage,TITLE=!1)}
function game(){score++;stage.go(moner);moner.go(stage);textSize(16);fill(230,230,230);text("Score: ",10,20);for(var a=10;0<=a;a--)if(score>=pow(10,a)){text(score,60+1*a,20);break}moner.loca_floor>=stage.data_floor.length-10&&(stage=new ObjectStage,moner.x=0)}
function preload(){cursor_image=loadImage("game_data/data/cursor.png");title_image=loadImage("game_data/data/title.png");cts=loadImage("game_data/data/cts.png");moner_walk_images=[loadImage("game_data/data/walk_01.png"),loadImage("game_data/data/walk_02.png")]}function draw(){background(10,10,10);TITLE?title():TITLE||(game(),tint(255,255,255,150));image(cursor_image,mouseX,mouseY);noTint()};
